---
id: linking-existing-registry
slug: /deploying-applications/deploying-from-docker-registry/linking-existing-registry
title: Linking an Existing Docker Registry
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

Porter supports linking a private Docker container registry to your project. This container registry is used to deploy Docker containers onto a cluster and push new versions of the image to your registry from CI/CD workflows. We support the following container registries:

- Amazon Elastic Container Registry (ECR)
- Google Container Registry (GCR)
- DigitalOcean Container Registry
- Docker Hub
- Other registries which implement the [Registry HTTP API v2](https://docs.docker.com/registry/spec/api/)

The following guide will show you how to link your container registries depending on your registry provider. Some container registries can only be linked from the CLI, so make sure that you've following the [installation guide](../../cli/installation) for the CLI.

## Amazon Elastic Container Registry (ECR)

Linking ECR can either be done from the dashboard or the CLI:

import ECRDashboardSection from "./_ecr-dashboard-section.mdx";
import ECRCLISection from "./_ecr-cli-section.mdx";

<Tabs>
  <TabItem value="ecr-dashboard" label="Browser" default>
    <ECRDashboardSection />
  </TabItem>
  <TabItem value="ecr-cli" label="CLI">
    <ECRCLISection />
  </TabItem>
</Tabs>

## Google Container Registry (GCR)

Linking GCR can either be done from the dashboard or the CLI:

import GCRDashboardSection from "./_gcr-dashboard-section.mdx";
import GCRCLISection from "./_gcr-cli-section.mdx";

<Tabs>
  <TabItem value="gcr-dashboard" label="Browser" default>
    <GCRDashboardSection />
  </TabItem>
  <TabItem value="gcr-cli" label="CLI">
    <GCRCLISection />
  </TabItem>
</Tabs>

## Digital Ocean Container Registry

At the moment, linking a Digital Ocean Container Registry can only be done using the Porter CLI. To connect, run the following command:

```sh
porter connect docr
```

If you have not yet linked a DigitalOcean account, this command will open the browser that allows you to link your DigitalOcean account. Authorize the DigitalOcean account that you'd like to give access. You will then be redirected to the dashboard, at which point you can close out of the browser tab and go back to the CLI.

The CLI will then prompt you to provide a link to the container registry, in the form `registry.digitalocean.com/[REGISTRY_NAME]`. This can be found by navigating to the "Container Registry" tab in DigitalOcean and copying the registry name:

![Container registry name](https://files.readme.io/c5fc652-Screen_Shot_2021-02-26_at_9.00.08_AM.png "Screen Shot 2021-02-26 at 9.00.08 AM.png")

```sh
Please provide the registry URL, in the form registry.digitalocean.com/[REGISTRY_NAME]. For example, registry.digitalocean.com/porter-test.
Registry URL: registry.digitalocean.com/porter-hi
```

That's it! If you navigate to the "Launch" tab in the dashboard, you should see your existing DigitalOcean Container Registry images in the "Registry" section.

## Docker Hub

In order to connect to a Docker Hub image repository, you must first generate a personal access token in the Docker Hub dashboard. Navigate to the ["Security" tab in your account settings](https://hub.docker.com/settings/security), and select "New Access Token":

![Access token](https://files.readme.io/53cce0e-Screen_Shot_2021-02-26_at_9.09.26_AM.png "Screen Shot 2021-02-26 at 9.09.26 AM.png")

Name this access token something like "Porter," and copy the access token to the clipboard.

:::info

If you're planning on linking more than one image repository through Docker Hub, you will need to re-use this access token multiple times, so you may want to copy it to a local file on your computer and delete it when you're finished.

:::

Then type `porter connect dockerhub` into the CLI. You will first be prompted to enter the path to the Docker Hub image repository that you would like to link. The image repository path can be found by going to the "Repositories" tab in Docker Hub and copying the username/organization and repository name. For example, for an organization called "porter1" and an image repository name called "porter", the repo name would be "porter1/porter":

```sh
Provide the Docker Hub image path, in the form of ${org_name}/${repo_name}. For example, porter1/porter.
Image path: porter1/porter
```

You should then enter your Docker Hub username and the access token you just copied.

That's it! If you navigate to the "Launch" tab in the dashboard, you should see your existing Docker Hub image repository in the "Registry" section.

:::info Multiple Docker Hub Repositories

This flow only links a single Docker Hub repository at a time. If you'd like to link multiple repositories, you must run `porter connect dockerhub` for each repository.

:::

## Custom/Private Registries

Other Docker container registries are supported, as long as they implement the [Registry HTTP API v2](https://docs.docker.com/registry/spec/api/) specification. To link these, type `porter connect registry` into the CLI. You will then be asked to input the URL of your image repository:

```sh
Provide the image registry URL (include the protocol). For example, https://my-custom-registry.getporter.dev.
Image registry URL: https://my-custom-registry.getporter.dev
```

If your registry is public, you can simply press enter when asked to input the username/password. Otherwise, enter the username/password that you would use for `docker login`.

That's it! If you navigate to the "Launch" tab in the dashboard, you should see your existing image repositories in the "Registry" section.
